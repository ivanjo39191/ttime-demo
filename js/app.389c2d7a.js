(function(e){function t(t){for(var a,r,o=t[0],s=t[1],u=t[2],d=0,l=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i={app:0},c=[];function o(e){return s.p+"js/"+({about:"about",place:"place",placedetail:"placedetail",searchresults:"searchresults",travel:"travel",user:"user"}[e]||e)+"."+{about:"e212e6af","chunk-2bad00d7":"fce8950f","chunk-2d230fe7":"a9d67b39","chunk-5c2000da":"412674f8","chunk-6fe9dc0a":"6bb50eb4","chunk-72f086e0":"258179ef","chunk-9472305a":"69955386","chunk-9cc7d2fc":"7c1dce2c","chunk-eea0a16a":"3d0ffcb2",place:"ea97e29f",placedetail:"3db187b6",searchresults:"98d687eb",travel:"41d9cb26",user:"e8b78d7a"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-2bad00d7":1,"chunk-5c2000da":1,"chunk-6fe9dc0a":1,"chunk-72f086e0":1,"chunk-9cc7d2fc":1,"chunk-eea0a16a":1,place:1,placedetail:1,searchresults:1,user:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({about:"about",place:"place",placedetail:"placedetail",searchresults:"searchresults",travel:"travel",user:"user"}[e]||e)+"."+{about:"31d6cfe0","chunk-2bad00d7":"7fcade8b","chunk-2d230fe7":"31d6cfe0","chunk-5c2000da":"440b96d5","chunk-6fe9dc0a":"d3cb8ec1","chunk-72f086e0":"023feaf8","chunk-9472305a":"31d6cfe0","chunk-9cc7d2fc":"dc4494b3","chunk-eea0a16a":"c4bda279",place:"a792ea27",placedetail:"02e4cfe6",searchresults:"5fb00cf8",travel:"31d6cfe0",user:"151b0091"}[e]+".css",i=s.p+a,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var u=c[o],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===i))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){u=l[o],d=u.getAttribute("data-href");if(d===a||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||i,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],f.parentNode.removeChild(f),n(c)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=o(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/ttime-demo/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0220":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n("b775");function r(e){return Object(a["a"])({url:"https://ttime-demo.ivankaoblog.com:10443/api/trips/trip/",method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}function i(e,t){return Object(a["a"])({url:"https://ttime-demo.ivankaoblog.com:10443/api/trips/trip/"+t,method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}function c(e,t){return Object(a["a"])({url:"https://ttime-demo.ivankaoblog.com:10443/api/trips/trip/",method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},data:t})}},"0781":function(e,t,n){"use strict";n.r(t);var a=n("24ab"),r=n.n(a),i=n("83d6"),c=n.n(i),o=c.a.showSettings,s=c.a.tagsView,u=c.a.fixedHeader,d=c.a.sidebarLogo,l={theme:r.a.theme,showSettings:o,tagsView:s,fixedHeader:u,sidebarLogo:d},f={CHANGE_SETTING:function(e,t){var n=t.key,a=t.value;e.hasOwnProperty(n)&&(e[n]=a)}},p={changeSetting:function(e,t){var n=e.commit;n("CHANGE_SETTING",t)}};t["default"]={namespaced:!0,state:l,mutations:f,actions:p}},"0b4a":function(e,t,n){},"0f9a":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("d3b7"),n("498a"),n("96cf");var a=n("1da1"),r=n("b775");function i(e){return Object(r["a"])({url:"https://ttime-demo.ivankaoblog.com:10443/api/token/",method:"post",data:e})}function c(e){return Object(r["a"])({url:"https://ttime-demo.ivankaoblog.com:10443/api/users/profile/",method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}var o=n("5f87"),s=n("a18c"),u={token:Object(o["a"])(),name:"",avatar:"",introduction:"",roles:[]},d={SET_TOKEN:function(e,t){e.token=t},SET_UID:function(e,t){e.uid=t},SET_INTRODUCTION:function(e,t){e.introduction=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t}},l={login:function(e,t){var n=e.commit,a=t.username,r=t.password;return new Promise((function(e,t){i({username:a.trim(),password:r}).then((function(t){var a=t.access;n("SET_TOKEN",a),Object(o["c"])(a),e()})).catch((function(e){t(e)}))}))},getInfo:function(e){var t=e.commit,n=e.state;return new Promise((function(e,a){c(n.token).then((function(n){var r=n[0];r||a("Verification failed, please Login again.");var i=r.uid.username,c=r.roles,o=r.name,s=r.avatar,u=r.introduction;(!c||c.length<=0)&&a("getInfo: roles must be a non-null array!"),t("SET_UID",i),t("SET_ROLES",c),t("SET_NAME",o),t("SET_AVATAR",s),t("SET_INTRODUCTION",u),e(r)})).catch((function(e){a(e)}))}))},logout:function(e){var t=e.commit,n=e.dispatch;t("SET_TOKEN",""),t("SET_ROLES",[]),Object(o["b"])(),Object(s["d"])(),n("tagsView/delAllViews",null,{root:!0})},resetToken:function(e){var t=e.commit;return new Promise((function(e){t("SET_TOKEN",""),t("SET_ROLES",[]),Object(o["b"])(),e()}))},changeRoles:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,i,c,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,i=t+"-token",a("SET_TOKEN",i),Object(o["c"])(i),n.next=6,r("getInfo");case 6:return c=n.sent,u=c.roles,Object(s["d"])(),n.next=11,r("permission/generateRoutes",u,{root:!0});case 11:d=n.sent,s["c"].addRoutes(d),r("tagsView/delAllViews",null,{root:!0});case 14:case"end":return n.stop()}}),n)})))()}};t["default"]={namespaced:!0,state:u,mutations:d,actions:l}},"1a4a":function(e,t,n){"use strict";var a=n("3b5c"),r=n.n(a);r.a},"223c":function(e,t,n){},"24ab":function(e,t,n){e.exports={theme:"#1890ff"}},"2cbd":function(e,t,n){e.exports=n.p+"img/logo.474f87a2.svg"},"31c2":function(e,t,n){"use strict";n.r(t),n.d(t,"filterAsyncRoutes",(function(){return c}));n("99af"),n("4160"),n("caad"),n("45fc"),n("d3b7"),n("2532"),n("159b");var a=n("5530"),r=n("a18c");function i(e,t){return!t.meta||!t.meta.roles||e.some((function(e){return t.meta.roles.includes(e)}))}function c(e,t){var n=[];return e.forEach((function(e){var r=Object(a["a"])({},e);i(t,r)&&(r.children&&(r.children=c(r.children,t)),n.push(r))})),n}var o={routes:[],addRoutes:[]},s={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=r["b"].concat(t)}},u={generateRoutes:function(e,t){var n=e.commit;return new Promise((function(e){var a;a=t.includes("admin")?r["a"]||[]:c(r["a"],t),n("SET_ROUTES",a),e(a)}))}};t["default"]={namespaced:!0,state:o,mutations:s,actions:u}},3958:function(e,t,n){"use strict";n.r(t);n("d3b7");var a=n("0220"),r=n("4360"),i={list:[]},c={createTrip:function(e,t){return new Promise((function(e,n){Object(a["a"])(r["a"].getters.token,t).then((function(t){e(t)})).catch((function(e){n(e)}))}))}},o={};t["default"]={namespaced:!0,state:i,mutations:o,actions:c}},"3b5c":function(e,t,n){},"3d1d":function(e,t,n){e.exports=n.p+"img/tel.6d80929a.svg"},4360:function(e,t,n){"use strict";n("13d5"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0");var a=n("2b0e"),r=n("2f62"),i=(n("b0c0"),{sidebar:function(e){return e.app.sidebar},size:function(e){return e.app.size},device:function(e){return e.app.device},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},uid:function(e){return e.user.uid},introduction:function(e){return e.user.introduction},roles:function(e){return e.user.roles},permission_routes:function(e){return e.permission.routes},errorLogs:function(e){return e.errorLog.logs},schedule_list:function(e){return e.schedule.list},pagename:function(e){return e.gotravel.pagename},placename:function(e){return e.gotravel.placename},placepicture:function(e){return e.gotravel.placepicture},placepx:function(e){return e.gotravel.placepx},placepy:function(e){return e.gotravel.placepy}}),c=i;a["default"].use(r["a"]);var o=n("c653"),s=o.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),a=o(t);return e[n]=a.default,e}),{}),u=new r["a"].Store({modules:s,getters:c});t["a"]=u},"4d49":function(e,t,n){"use strict";n.r(t);n("a434");var a={logs:[]},r={ADD_ERROR_LOG:function(e,t){e.logs.push(t)},CLEAR_ERROR_LOG:function(e){e.logs.splice(0)}},i={addErrorLog:function(e,t){var n=e.commit;n("ADD_ERROR_LOG",t)},clearErrorLog:function(e){var t=e.commit;t("CLEAR_ERROR_LOG")}};t["default"]={namespaced:!0,state:a,mutations:r,actions:i}},"533c":function(e,t,n){"use strict";var a=n("0b4a"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"parseTime",(function(){return $})),n.d(a,"formatTime",(function(){return M})),n.d(a,"timeAgo",(function(){return W})),n.d(a,"numberFormatter",(function(){return q})),n.d(a,"toThousandFilter",(function(){return U})),n.d(a,"uppercaseFirst",(function(){return z})),n.d(a,"truncate",(function(){return F})),n.d(a,"splitTime",(function(){return K}));n("4de4"),n("4160"),n("b64b"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=n("a78e"),c=n.n(i),o=(n("f5df1"),n("5f5b")),s=n("b1e0"),u=n("ecee"),d=n("c074"),l=n("ad3d"),f=n("5886"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},m=[],h={name:"App"},v=h,b=(n("5c0b"),n("2877")),g=Object(b["a"])(v,p,m,!1,null,null,null),E=g.exports,w=n("a18c"),_=n("bc3a"),V=n.n(_),O=n("4360"),C=n("5c96"),j=n.n(C),S=(n("24ab"),n("b20f"),n("d3b7"),{}),k=V.a.create(S);k.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),k.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=k,window.axios=k,Object.defineProperties(e.prototype,{axios:{get:function(){return k}},$axios:{get:function(){return k}}})},r["default"].use(Plugin);Plugin,n("c975");var A=n("5530"),T=(n("96cf"),n("1da1")),y=n("323e"),D=n.n(y),x=(n("a5d8"),n("5f87")),I=(n("99af"),n("83d6")),L=n.n(I),R=L.a.title||"Vue Element Admin";function P(e){return e?"".concat(e," - ").concat(R):"".concat(R)}D.a.configure({showSpinner:!1});var N=["/login","/auth-redirect"];w["c"].beforeEach(function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,i,c,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("to: ",t),console.log("from: ",n),D.a.start(),document.title=P(t.meta.title),r=Object(x["a"])(),!r){e.next=37;break}if("/login"!==t.path){e.next=11;break}a({path:"/"}),D.a.done(),e.next=35;break;case 11:if(i=O["a"].getters.roles&&O["a"].getters.roles.length>0,!i){e.next=16;break}a(),e.next=35;break;case 16:return e.prev=16,e.next=19,O["a"].dispatch("user/getInfo");case 19:return c=e.sent,o=c.roles,e.next=23,O["a"].dispatch("permission/generateRoutes",o);case 23:s=e.sent,w["c"].addRoutes(s),a(Object(A["a"])(Object(A["a"])({},t),{},{replace:!0})),e.next=35;break;case 28:return e.prev=28,e.t0=e["catch"](16),e.next=32,O["a"].dispatch("user/resetToken");case 32:C["Message"].error(e.t0||"Has Error"),a("/login?redirect=".concat(t.path)),D.a.done();case 35:e.next=38;break;case 37:!0!==t.meta.requireAuth||-1!==N.indexOf(t.path)?a():(a("/login?redirect=".concat(t.path)),D.a.done());case 38:case"end":return e.stop()}}),e,null,[[16,28]])})));return function(t,n,a){return e.apply(this,arguments)}}()),w["c"].afterEach((function(){D.a.done()}));n("fb6a"),n("a9e3"),n("b680"),n("ac1f"),n("25f0"),n("5319"),n("a630"),n("a15b"),n("baa5"),n("d81d"),n("4d63"),n("6062"),n("3ca3"),n("466d"),n("4d90"),n("1276"),n("ddb0");var H=n("53ca");function $(e,t){if(0===arguments.length||!e)return null;var n,a=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(H["a"])(e)?n=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},i=a.replace(/{([ymdhisa])+}/g,(function(e,t){var n=r[t];return"a"===t?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")}));return i}function M(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var n=new Date(e),a=Date.now(),r=(a-n)/1e3;return r<30?"刚刚":r<3600?Math.ceil(r/60)+"分钟前":r<86400?Math.ceil(r/3600)+"小时前":r<172800?"1天前":t?$(e,t):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function B(e,t){return 1===e?e+t:e+t+"s"}function G(e,t){return e.length>=t?e:G("0"+e,t)}function W(e){var t=Date.now()/1e3-Number(e);return t<3600?B(~~(t/60)," minute"):t<86400?B(~~(t/3600)," hour"):B(~~(t/86400)," day")}function q(e,t){for(var n=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],a=0;a<n.length;a++)if(e>=n[a].value)return(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol;return e.toString()}function U(e){return(+e||0).toString().replace(/^-?\d+/g,(function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}function F(e,t,n){n=n||"...";var a=document.createElement("div");a.innerHTML=e;var r=a.textContent;return r.length>t?r.slice(0,t)+n:r}function K(e){var t=G(String(new Date(e).getHours()),2),n=G(String(new Date(e).getMinutes()),2),a=t+":"+n;return a}n("4413");Object.keys(a).forEach((function(e){r["default"].filter(e,a[e])})),u["c"].add(d["a"]),r["default"].component("font-awesome-icon",l["a"]),r["default"].config.productionTip=!1,r["default"].prototype.$ajax=V.a,r["default"].use(o["a"]),r["default"].use(s["a"]),r["default"].use(f["a"]),r["default"].use(j.a,{size:c.a.get("size")||"medium"}),new r["default"]({router:w["c"],store:O["a"],render:function(e){return e(E)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"5f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("a78e"),r=n.n(a),i="Admin-Token";function c(){return r.a.get(i)}function o(e){return r.a.set(i,e)}function s(){return r.a.remove(i)}},"654e":function(e,t,n){"use strict";var a=n("223c"),r=n.n(a);r.a},"655c":function(e,t,n){"use strict";var a=n("de78"),r=n.n(a);r.a},6901:function(e,t,n){},7509:function(e,t,n){"use strict";n.r(t);n("4de4"),n("caad"),n("c975"),n("fb6a"),n("45fc"),n("a434"),n("b0c0"),n("d3b7"),n("2532"),n("ddb0");var a=n("2909"),r=n("3835"),i=n("b85c"),c={visitedViews:[],cachedViews:[]},o={ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var n,a=Object(i["a"])(e.visitedViews.entries());try{for(a.s();!(n=a.n()).done;){var c=Object(r["a"])(n.value,2),o=c[0],s=c[1];if(s.path===t.path){e.visitedViews.splice(o,1);break}}}catch(u){a.e(u)}finally{a.f()}},DEL_CACHED_VIEW:function(e,t){var n=e.cachedViews.indexOf(t.name);n>-1&&e.cachedViews.splice(n,1)},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var n=e.cachedViews.indexOf(t.name);e.cachedViews=n>-1?e.cachedViews.slice(n,n+1):[]},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var n,a=Object(i["a"])(e.visitedViews);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.path===t.path){r=Object.assign(r,t);break}}}catch(c){a.e(c)}finally{a.f()}}},s={addView:function(e,t){var n=e.dispatch;n("addVisitedView",t),n("addCachedView",t)},addVisitedView:function(e,t){var n=e.commit;n("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var n=e.commit;n("ADD_CACHED_VIEW",t)},delView:function(e,t){var n=e.dispatch,r=e.state;return new Promise((function(e){n("delVisitedView",t),n("delCachedView",t),e({visitedViews:Object(a["a"])(r.visitedViews),cachedViews:Object(a["a"])(r.cachedViews)})}))},delVisitedView:function(e,t){var n=e.commit,r=e.state;return new Promise((function(e){n("DEL_VISITED_VIEW",t),e(Object(a["a"])(r.visitedViews))}))},delCachedView:function(e,t){var n=e.commit,r=e.state;return new Promise((function(e){n("DEL_CACHED_VIEW",t),e(Object(a["a"])(r.cachedViews))}))},delOthersViews:function(e,t){var n=e.dispatch,r=e.state;return new Promise((function(e){n("delOthersVisitedViews",t),n("delOthersCachedViews",t),e({visitedViews:Object(a["a"])(r.visitedViews),cachedViews:Object(a["a"])(r.cachedViews)})}))},delOthersVisitedViews:function(e,t){var n=e.commit,r=e.state;return new Promise((function(e){n("DEL_OTHERS_VISITED_VIEWS",t),e(Object(a["a"])(r.visitedViews))}))},delOthersCachedViews:function(e,t){var n=e.commit,r=e.state;return new Promise((function(e){n("DEL_OTHERS_CACHED_VIEWS",t),e(Object(a["a"])(r.cachedViews))}))},delAllViews:function(e,t){var n=e.dispatch,r=e.state;return new Promise((function(e){n("delAllVisitedViews",t),n("delAllCachedViews",t),e({visitedViews:Object(a["a"])(r.visitedViews),cachedViews:Object(a["a"])(r.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e(Object(a["a"])(n.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e(Object(a["a"])(n.cachedViews))}))},updateVisitedView:function(e,t){var n=e.commit;n("UPDATE_VISITED_VIEW",t)}};t["default"]={namespaced:!0,state:c,mutations:o,actions:s}},"786d":function(e,t,n){e.exports=n.p+"img/ig.01e15c8b.svg"},"83d6":function(e,t){e.exports={title:"TTime",showSettings:!0,tagsView:!0,fixedHeader:!1,sidebarLogo:!1,errorLog:"production"}},"8f79":function(e,t,n){"use strict";n.r(t);n("c975");var a={pagename:["mapaddschedule"],placename:"",placepicture:"",picturemore:"",placeopen:"",placepx:"",placepy:""},r={switchPage:function(e,t){-1===e.pagename.indexOf(t)&&(e.pagename=[],e.pagename.push(t))},showPage:function(e,t){-1===e.pagename.indexOf(t)&&e.pagename.push(t)},placeName:function(e,t){e.placename=t},placePicture:function(e,t){e.placepicture=t},placePx:function(e,t){e.placepx=t},placePy:function(e,t){e.placepy=t}},i={};t["default"]={namespaced:!0,state:a,mutations:r,actions:i}},9634:function(e,t,n){e.exports=n.p+"img/mail.0853afa3.svg"},"9c0c":function(e,t,n){},"9f3b":function(e,t,n){e.exports=n.p+"img/fb.4468c6c4.svg"},a18c:function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return q})),n.d(t,"d",(function(){return F}));n("d3b7");var a=n("2b0e"),r=n("8c4f"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-wrapper"},[n("div",{staticClass:"header"},[n("app-navbar"),n("app-header")],1),n("div",{staticClass:"main"},[n("app-main")],1),n("div",{staticClass:"footer"},[n("app-footer")],1)])},c=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("keep-alive",{attrs:{include:e.cachedViews}},[n("router-view",{key:e.key})],1)],1)],1)},s=[],u={name:"AppMain",props:{msg:String},computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.path}}},d=u,l=(n("a27b"),n("2877")),f=Object(l["a"])(d,o,s,!1,null,"46a4f069",null),p=f.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-header"})},h=[],v={name:"AppHeader"},b=v,g=(n("533c"),Object(l["a"])(b,m,h,!1,null,"d0606792",null)),E=g.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-navbar"},[n("transition",{attrs:{name:"fade"}},[n("keep-alive",[n("div",{staticClass:"navbar-main"},[n("div",{staticClass:"navbar-left"},[n("div",{staticClass:"logo"})]),n("div",{staticClass:"navbar-right-top"},[n("div",[e._v("繁體中文")]),n("i",{staticClass:"down-btn"})]),n("div",{staticClass:"navbar-right"},[n("div",[e._v("建立旅程")]),n("div",{staticClass:"divider"}),n("div",[e._v("旅遊回憶")]),n("div",{staticClass:"divider"}),n("div",[e._v("熱門景點")]),n("div",{staticClass:"divider"}),n("div",[e._v("旅遊達人")]),n("div",{staticClass:"divider"}),n("div",[e._v("使用教學")]),n("div",{staticClass:"divider"}),n("div",[e._v("會員登入")]),n("div",{staticClass:"searchbar"})])])])],1)],1)},_=[],V=(n("96cf"),n("1da1")),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slidebar"},[n("b-navbar-brand",{attrs:{id:"title"}},[n("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}],attrs:{icon:"list"}}),e._v("TTime")],1),n("b-sidebar",{attrs:{id:"sidebar-1",title:"Sidebar",shadow:"","no-header":""}},[n("b-navbar-brand",{attrs:{id:"title"}},[n("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}],attrs:{icon:"list"}}),e._v("TTime")],1),n("b-nav",{attrs:{vertical:"",id:"nav",tag:"h5"}},[n("b-nav-item",[n("router-link",{attrs:{to:"/"}},[e._v("首頁")])],1),n("b-nav-item",{staticClass:"dark"},[n("router-link",{attrs:{to:"/gotravel"}},[e._v("建立旅程")])],1),n("b-nav-item",[n("router-link",{attrs:{to:"/"}},[e._v("最新活動")])],1),n("b-nav-item",{staticClass:"dark"},[n("router-link",{attrs:{to:"/"}},[e._v("推薦旅程")])],1),n("b-nav-item",[n("router-link",{attrs:{to:"/place"}},[e._v("熱門景點")])],1),n("b-nav-item",{staticClass:"dark"},[n("router-link",{attrs:{to:"/"}},[e._v("旅遊達人")])],1)],1)],1)],1)},C=[],j={name:"SlideBar",props:{msg:String}},S=j,k=(n("655c"),Object(l["a"])(S,O,C,!1,null,"367e81b0",null)),A=k.exports,T={name:"AppNavbar",components:{SlideBar:A},props:{msg:String},data:function(){return{keyword:this.value}},methods:{search:function(){this.$router.push({name:"searchresults",params:{value:this.$data.keyword}})},logout:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login?redirect=".concat(e.$route.fullPath));case 3:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({path:"/login"});case 1:case"end":return t.stop()}}),t)})))()},user:function(){this.$router.push({name:"user"})}}},y=T,D=(n("e5ea"),Object(l["a"])(y,w,_,!1,null,"2b5faef2",null)),x=D.exports,I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-footer"},[a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[a("div",{staticClass:"left-top"},[a("div",{staticClass:"left-top-logo"},[a("img",{attrs:{src:n("2cbd")}})]),a("div",{staticClass:"left-top-content"},[a("p",[e._v("Designed by 烏丸影像 ")]),a("p",[e._v("版權所有，未經許可，不許轉載")]),a("p",[e._v("© 2021 TTime CO.,LTD. All Rights Reserved.")])])]),a("div",{staticClass:"left-bottom"})]),a("div",{staticClass:"right"},[a("div",{staticClass:"right-obj"},[a("div",{staticClass:"right-obj-title"},[a("p",[e._v("關於TTime")])]),a("div",{staticClass:"right-obj-line"}),a("div",{staticClass:"right-obj-content"},[a("p",[e._v("媒體報導")]),a("p",[e._v("加入我們")]),a("p",[e._v("合作供應商")]),a("p",[e._v("聯盟行銷")])])]),a("div",{staticClass:"right-obj"},[a("div",{staticClass:"right-obj-title"},[a("p",[e._v("使用說明")])]),a("div",{staticClass:"right-obj-line"}),a("div",{staticClass:"right-obj-content"},[a("p",[e._v("常見問題與幫助")]),a("p",[e._v("服務條款")]),a("p",[e._v("隱私權保護政策")])])]),a("div",{staticClass:"right-obj"},[a("div",{staticClass:"right-obj-title"},[a("p",[e._v("聯絡我們")])]),a("div",{staticClass:"right-obj-line"}),a("div",{staticClass:"right-obj-content"},[a("div",{staticClass:"right-obj-content-link"},[a("img",{staticClass:"right-obj-content-link-img",attrs:{src:n("9634")}}),a("img",{staticClass:"right-obj-content-link-img",attrs:{src:n("3d1d")}}),a("div",{staticClass:"right-obj-content-link-img"}),a("img",{staticClass:"right-obj-content-link-img",attrs:{src:n("9f3b")}}),a("img",{staticClass:"right-obj-content-link-img",attrs:{src:n("b3bc")}}),a("img",{staticClass:"right-obj-content-link-img",attrs:{src:n("786d")}})])])])])])])}],R={name:"AppFooter",props:{msg:String}},P=R,N=(n("1a4a"),Object(l["a"])(P,I,L,!1,null,"a533ee88",null)),H=N.exports,$={name:"Layout",components:{AppMain:p,AppHeader:E,AppNavbar:x,AppFooter:H}},M=$,B=(n("654e"),Object(l["a"])(M,i,c,!1,null,"9dacdb8a",null)),G=B.exports;a["default"].use(r["a"]);var W=[{path:"/redirect",component:function(){return n.e("chunk-5c2000da").then(n.bind(null,"bb51"))},hidden:!0,children:[{path:"/redirect/:path(.*)",component:function(){return n.e("chunk-2d230fe7").then(n.bind(null,"ef3c"))}}]},{path:"/login",component:G,redirect:"/login",children:[{path:"/",component:function(){return n.e("chunk-eea0a16a").then(n.bind(null,"9ed6"))},hidden:!0,meta:{requireAuth:!1}}]},{path:"/auth-redirect",component:function(){return n.e("chunk-9472305a").then(n.bind(null,"b829"))},hidden:!0,meta:{requireAuth:!1}},{path:"/",component:G,redirect:"/home",children:[{path:"/",component:function(){return n.e("chunk-6fe9dc0a").then(n.bind(null,"7abe"))},name:"home",meta:{requireAuth:!1}}]},{path:"/gotravel",component:G,meta:{requireAuth:!1},redirect:"/gotravel",children:[{path:"/",component:function(){return n.e("chunk-9cc7d2fc").then(n.bind(null,"bb77"))},name:"gotravel",meta:{requireAuth:!0}},{path:"tripmap",component:function(){return n.e("chunk-72f086e0").then(n.bind(null,"98a4"))},name:"tripmap",meta:{requireAuth:!1}}]},{path:"/travel",component:G,redirect:"/travel",children:[{path:"/",component:function(){return n.e("travel").then(n.bind(null,"4696"))},name:"travel",meta:{requireAuth:!1}}]},{path:"/user",component:G,redirect:"/user",children:[{path:"/",component:function(){return n.e("user").then(n.bind(null,"e382"))},name:"user",meta:{requireAuth:!0}}]},{path:"/usertravel",component:G,redirect:"/user/travel/:id",children:[{path:"/",name:"usertravel",component:function(){return n.e("chunk-2bad00d7").then(n.bind(null,"23d1"))},meta:{requireAuth:!0}}]},{path:"/place",component:G,redirect:"/place",children:[{path:"/",component:function(){return n.e("place").then(n.bind(null,"e756"))},name:"place",meta:{requireAuth:!1}}]},{path:"/about",component:G,redirect:"/about",children:[{path:"/",component:function(){return n.e("about").then(n.bind(null,"f820"))},name:"about",meta:{requireAuth:!1}}]},{path:"/placedetail",component:G,redirect:"/placedetail/:id",children:[{path:"/",component:function(){return n.e("placedetail").then(n.bind(null,"dc3d"))},name:"placedetail",meta:{requireAuth:!1}}]},{path:"/searchresults",component:G,redirect:"/searchresults/:value",children:[{path:"/",component:function(){return n.e("searchresults").then(n.bind(null,"e9a0"))},name:"searchresults",meta:{requireAuth:!1}}]}],q=[{path:"*",redirect:"/404",hidden:!0}],U=function(){return new r["a"]({mode:"history",base:"/ttime-demo/",scrollBehavior:function(){return{y:0}},routes:W})},z=U();function F(){var e=U();z.matcher=e.matcher}t["c"]=z},a26e:function(e,t,n){},a27b:function(e,t,n){"use strict";var a=n("6901"),r=n.n(a);r.a},b20f:function(e,t,n){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},b3bc:function(e,t,n){e.exports=n.p+"img/line.28aad323.svg"},b775:function(e,t,n){"use strict";n("d3b7");var a=n("bc3a"),r=n.n(a),i=n("5c96"),c=n("4360"),o=n("5f87"),s=r.a.create({baseURL:Object({NODE_ENV:"production",VUE_APP_BACKEND_SERVER:"https://ttime-demo.ivankaoblog.com:10443",VUE_APP_GOOGLEMAPAPIKEY:"AIzaSyALJ1SaoCoOfZDcZTYD31Het7jmY4U-i8A",BASE_URL:"/ttime-demo/"}).VUE_APP_BASE_API,timeout:5e3});s.interceptors.request.use((function(e){return c["a"].getters.token&&(e.headers["X-Token"]=Object(o["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),s.interceptors.response.use((function(e){var t=e.data;return 200===e.status||201===e.status?t:2e4!==t.code?(Object(i["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||i["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){c["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(i["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=s},c653:function(e,t,n){var a={"./app.js":"d9cd","./errorLog.js":"4d49","./gotravel.js":"8f79","./permission.js":"31c2","./settings.js":"0781","./tagsView.js":"7509","./travel.js":"3958","./user.js":"0f9a"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="c653"},d9cd:function(e,t,n){"use strict";n.r(t);var a=n("a78e"),r=n.n(a),i={sidebar:{opened:!r.a.get("sidebarStatus")||!!+r.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",size:r.a.get("size")||"medium"},c={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?r.a.set("sidebarStatus",1):r.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){r.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_SIZE:function(e,t){e.size=t,r.a.set("size",t)}},o={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var n=e.commit,a=t.withoutAnimation;n("CLOSE_SIDEBAR",a)},toggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)},setSize:function(e,t){var n=e.commit;n("SET_SIZE",t)}};t["default"]={namespaced:!0,state:i,mutations:c,actions:o}},de78:function(e,t,n){},e5ea:function(e,t,n){"use strict";var a=n("a26e"),r=n.n(a);r.a}});
//# sourceMappingURL=app.389c2d7a.js.map